<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.book.springboot.web.PostsApiControllerTest" tests="2" skipped="0" failures="0" errors="0" timestamp="2022-01-16T01:19:21" hostname="baggioui-MacBook-Pro.local" time="0.197">
  <properties/>
  <testcase name="Posts_등록된다()" classname="com.book.springboot.web.PostsApiControllerTest" time="0.142"/>
  <testcase name="Posts_수정된다()" classname="com.book.springboot.web.PostsApiControllerTest" time="0.053"/>
  <system-out><![CDATA[2022-01-16 10:19:21.526  INFO 4479 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.book.springboot.web.PostsApiControllerTest], using SpringBootContextLoader
2022-01-16 10:19:21.528  INFO 4479 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.book.springboot.web.PostsApiControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-01-16 10:19:21.528  INFO 4479 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.book.springboot.web.PostsApiControllerTest]: PostsApiControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-01-16 10:19:21.531  INFO 4479 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.book.springboot.Application for test class com.book.springboot.web.PostsApiControllerTest
2022-01-16 10:19:21.532  INFO 4479 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-01-16 10:19:21.533  INFO 4479 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78fd08fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f6a5b4f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@30164cf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6590c801, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75ba86b5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@68970b6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6ae4837f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@9d79ee2, org.springframework.test.context.event.EventPublishingTestExecutionListener@28792e43, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@78658c59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@36d40751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3c1afe7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@62ab92ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@36f8dda2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2080baa3]
2022-01-16 10:19:21.539  INFO 4479 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6f03d4a7 testClass = PostsApiControllerTest, testInstance = com.book.springboot.web.PostsApiControllerTest@6c539e6e, testMethod = Posts_등록된다@PostsApiControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@316be026 testClass = PostsApiControllerTest, locations = '{}', classes = '{class com.book.springboot.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@259762bc, [ImportsContextCustomizer@4e598ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5b62bf8e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@498f3382, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@72c0eebc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@609b164e]; rollback [false]
Hibernate: insert into posts (id, created_date, last_modified_date, author, content, title) values (null, ?, ?, ?, ?, ?)
2022-01-16 10:19:21.615  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961615 | took 0ms | statement | connection 28| url jdbc:h2:mem:testdb
insert into posts (id, created_date, last_modified_date, author, content, title) values (null, ?, ?, ?, ?, ?)
insert into posts (id, created_date, last_modified_date, author, content, title) values (null, '2022-01-16T10:19:21.612+0900', '2022-01-16T10:19:21.612+0900', 'author', 'content', 'title');
2022-01-16 10:19:21.626  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961626 | took 0ms | statement | connection 29| url jdbc:h2:mem:testdb
INSERT INTO SPRING_SESSION(PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME) VALUES (?, ?, ?, ?, ?, ?, ?)
INSERT INTO SPRING_SESSION(PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME) VALUES ('241562da-6a52-456d-b7af-0a0326ce53ae', '95ce6451-1373-4070-8eb1-cc0002dfa835', 1642295961549, 1642295961549, 1800, 1642297761549, 'user');
2022-01-16 10:19:21.647  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961647 | took 0ms | statement | connection 29| url jdbc:h2:mem:testdb
INSERT INTO SPRING_SESSION_ATTRIBUTES(SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES) SELECT PRIMARY_ID, ?, ? FROM SPRING_SESSION WHERE SESSION_ID = ?
INSERT INTO SPRING_SESSION_ATTRIBUTES(SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES) SELECT PRIMARY_ID, 'SPRING_SECURITY_CONTEXT', 'ACED00057372003D6F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E636F6E746578742E5365637572697479436F6E74657874496D706C00000000000002080200014C000E61757468656E7469636174696F6E7400324C6F72672F737072696E676672616D65776F726B2F73656375726974792F636F72652F41757468656E7469636174696F6E3B78707372004F6F72672E737072696E676672616D65776F726B2E73656375726974792E61757468656E7469636174696F6E2E557365726E616D6550617373776F726441757468656E7469636174696F6E546F6B656E00000000000002080200024C000B63726564656E7469616C737400124C6A6176612F6C616E672F4F626A6563743B4C00097072696E636970616C71007E0004787200476F72672E737072696E676672616D65776F726B2E73656375726974792E61757468656E7469636174696F6E2E416273747261637441757468656E7469636174696F6E546F6B656ED3AA287E6E47640E0200035A000D61757468656E746963617465644C000B617574686F7269746965737400164C6A6176612F7574696C2F436F6C6C656374696F6E3B4C000764657461696C7371007E0004787001737200266A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C654C697374FC0F2531B5EC8E100200014C00046C6973747400104C6A6176612F7574696C2F4C6973743B7872002C6A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C65436F6C6C656374696F6E19420080CB5EF71E0200014C00016371007E00067870737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A65787000000001770400000001737200426F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E617574686F726974792E53696D706C654772616E746564417574686F7269747900000000000002080200014C0004726F6C657400124C6A6176612F6C616E672F537472696E673B7870740009524F4C455F555345527871007E000D7074000870617373776F7264737200326F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E7573657264657461696C732E5573657200000000000002080200075A00116163636F756E744E6F6E457870697265645A00106163636F756E744E6F6E4C6F636B65645A001563726564656E7469616C734E6F6E457870697265645A0007656E61626C65644C000B617574686F72697469657374000F4C6A6176612F7574696C2F5365743B4C000870617373776F726471007E000F4C0008757365726E616D6571007E000F787001010101737200256A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C65536574801D92D18F9B80550200007871007E000A737200116A6176612E7574696C2E54726565536574DD98509395ED875B0300007870737200466F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E7573657264657461696C732E5573657224417574686F72697479436F6D70617261746F720000000000000208020000787077040000000171007E00107871007E001274000475736572' FROM SPRING_SESSION WHERE SESSION_ID = '95ce6451-1373-4070-8eb1-cc0002dfa835';
2022-01-16 10:19:21.648  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961648 | took 0ms | commit | connection 29| url jdbc:h2:mem:testdb

;
2022-01-16 10:19:21.652  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961651 | took 0ms | commit | connection 30| url jdbc:h2:mem:testdb

;

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/posts
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8"]
             Body = {"title":"title","content":"content","author":"author"}
    Session Attrs = {SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}

Handler:
             Type = com.book.springboot.web.PostsApiController
           Method = com.book.springboot.web.PostsApiController#save(PostsSaveRequestDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", Set-Cookie:"SESSION=OTVjZTY0NTEtMTM3My00MDcwLThlYjEtY2MwMDAyZGZhODM1; Path=/; HttpOnly; SameSite=Lax"]
     Content type = application/json
             Body = 1
    Forwarded URL = null
   Redirected URL = null
          Cookies = [[MockCookie@1fcf2fe0 name = 'SESSION', value = 'OTVjZTY0NTEtMTM3My00MDcwLThlYjEtY2MwMDAyZGZhODM1', comment = [null], domain = [null], maxAge = -1, path = '/', secure = false, version = 0, httpOnly = true]]
Hibernate: select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
2022-01-16 10:19:21.664  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961664 | took 0ms | statement | connection 28| url jdbc:h2:mem:testdb
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_;
Hibernate: select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
2022-01-16 10:19:21.671  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961671 | took 0ms | statement | connection 28| url jdbc:h2:mem:testdb
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_;
Hibernate: delete from posts where id=?
2022-01-16 10:19:21.677  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961677 | took 0ms | statement | connection 28| url jdbc:h2:mem:testdb
delete from posts where id=?
delete from posts where id=1;
2022-01-16 10:19:21.678  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961678 | took 0ms | commit | connection 28| url jdbc:h2:mem:testdb

;
2022-01-16 10:19:21.678  INFO 4479 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@6f03d4a7 testClass = PostsApiControllerTest, testInstance = com.book.springboot.web.PostsApiControllerTest@6c539e6e, testMethod = Posts_등록된다@PostsApiControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@316be026 testClass = PostsApiControllerTest, locations = '{}', classes = '{class com.book.springboot.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@259762bc, [ImportsContextCustomizer@4e598ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5b62bf8e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@498f3382, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@72c0eebc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2022-01-16 10:19:21.683  INFO 4479 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6f03d4a7 testClass = PostsApiControllerTest, testInstance = com.book.springboot.web.PostsApiControllerTest@4e3e1063, testMethod = Posts_수정된다@PostsApiControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@316be026 testClass = PostsApiControllerTest, locations = '{}', classes = '{class com.book.springboot.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@259762bc, [ImportsContextCustomizer@4e598ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5b62bf8e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@498f3382, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@72c0eebc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@609b164e]; rollback [false]
Hibernate: insert into posts (id, created_date, last_modified_date, author, content, title) values (null, ?, ?, ?, ?, ?)
2022-01-16 10:19:21.689  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961689 | took 0ms | statement | connection 31| url jdbc:h2:mem:testdb
insert into posts (id, created_date, last_modified_date, author, content, title) values (null, ?, ?, ?, ?, ?)
insert into posts (id, created_date, last_modified_date, author, content, title) values (null, '2022-01-16T10:19:21.688+0900', '2022-01-16T10:19:21.688+0900', 'author', 'content', 'title');
2022-01-16 10:19:21.704  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961704 | took 0ms | statement | connection 32| url jdbc:h2:mem:testdb
INSERT INTO SPRING_SESSION(PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME) VALUES (?, ?, ?, ?, ?, ?, ?)
INSERT INTO SPRING_SESSION(PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME) VALUES ('cea78921-0ca5-4417-9d62-f51ada91453d', '74574fc6-8eda-4323-b6a7-ba8f4241920f', 1642295961692, 1642295961692, 1800, 1642297761692, 'user');
2022-01-16 10:19:21.707  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961707 | took 0ms | statement | connection 32| url jdbc:h2:mem:testdb
INSERT INTO SPRING_SESSION_ATTRIBUTES(SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES) SELECT PRIMARY_ID, ?, ? FROM SPRING_SESSION WHERE SESSION_ID = ?
INSERT INTO SPRING_SESSION_ATTRIBUTES(SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES) SELECT PRIMARY_ID, 'SPRING_SECURITY_CONTEXT', 'ACED00057372003D6F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E636F6E746578742E5365637572697479436F6E74657874496D706C00000000000002080200014C000E61757468656E7469636174696F6E7400324C6F72672F737072696E676672616D65776F726B2F73656375726974792F636F72652F41757468656E7469636174696F6E3B78707372004F6F72672E737072696E676672616D65776F726B2E73656375726974792E61757468656E7469636174696F6E2E557365726E616D6550617373776F726441757468656E7469636174696F6E546F6B656E00000000000002080200024C000B63726564656E7469616C737400124C6A6176612F6C616E672F4F626A6563743B4C00097072696E636970616C71007E0004787200476F72672E737072696E676672616D65776F726B2E73656375726974792E61757468656E7469636174696F6E2E416273747261637441757468656E7469636174696F6E546F6B656ED3AA287E6E47640E0200035A000D61757468656E746963617465644C000B617574686F7269746965737400164C6A6176612F7574696C2F436F6C6C656374696F6E3B4C000764657461696C7371007E0004787001737200266A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C654C697374FC0F2531B5EC8E100200014C00046C6973747400104C6A6176612F7574696C2F4C6973743B7872002C6A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C65436F6C6C656374696F6E19420080CB5EF71E0200014C00016371007E00067870737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A65787000000001770400000001737200426F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E617574686F726974792E53696D706C654772616E746564417574686F7269747900000000000002080200014C0004726F6C657400124C6A6176612F6C616E672F537472696E673B7870740009524F4C455F555345527871007E000D7074000870617373776F7264737200326F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E7573657264657461696C732E5573657200000000000002080200075A00116163636F756E744E6F6E457870697265645A00106163636F756E744E6F6E4C6F636B65645A001563726564656E7469616C734E6F6E457870697265645A0007656E61626C65644C000B617574686F72697469657374000F4C6A6176612F7574696C2F5365743B4C000870617373776F726471007E000F4C0008757365726E616D6571007E000F787001010101737200256A6176612E7574696C2E436F6C6C656374696F6E7324556E6D6F6469666961626C65536574801D92D18F9B80550200007871007E000A737200116A6176612E7574696C2E54726565536574DD98509395ED875B0300007870737200466F72672E737072696E676672616D65776F726B2E73656375726974792E636F72652E7573657264657461696C732E5573657224417574686F72697479436F6D70617261746F720000000000000208020000787077040000000171007E00107871007E001274000475736572' FROM SPRING_SESSION WHERE SESSION_ID = '74574fc6-8eda-4323-b6a7-ba8f4241920f';
2022-01-16 10:19:21.708  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961708 | took 0ms | commit | connection 32| url jdbc:h2:mem:testdb

;
2022-01-16 10:19:21.710  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961710 | took 0ms | commit | connection 33| url jdbc:h2:mem:testdb

;

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/v1/posts/2
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8"]
             Body = {"title":"updateTitle","content":"updateContent","author":null}
    Session Attrs = {SPRING_SECURITY_CONTEXT=org.springframework.security.core.context.SecurityContextImpl@ca25360: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ca25360: Principal: org.springframework.security.core.userdetails.User@36ebcb: Username: user; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_USER; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER}

Handler:
             Type = com.book.springboot.web.PostsApiController
           Method = com.book.springboot.web.PostsApiController#update(Long, PostsSaveRequestDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", Set-Cookie:"SESSION=NzQ1NzRmYzYtOGVkYS00MzIzLWI2YTctYmE4ZjQyNDE5MjBm; Path=/; HttpOnly; SameSite=Lax"]
     Content type = application/json
             Body = 2
    Forwarded URL = null
   Redirected URL = null
          Cookies = [[MockCookie@1b4d25a5 name = 'SESSION', value = 'NzQ1NzRmYzYtOGVkYS00MzIzLWI2YTctYmE4ZjQyNDE5MjBm', comment = [null], domain = [null], maxAge = -1, path = '/', secure = false, version = 0, httpOnly = true]]
Hibernate: update posts set created_date=?, last_modified_date=?, author=?, content=?, title=? where id=?
2022-01-16 10:19:21.722  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961722 | took 0ms | statement | connection 31| url jdbc:h2:mem:testdb
update posts set created_date=?, last_modified_date=?, author=?, content=?, title=? where id=?
update posts set created_date='2022-01-16T10:19:21.688+0900', last_modified_date='2022-01-16T10:19:21.716+0900', author='author', content='updateContent', title='updateTitle' where id=2;
Hibernate: select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
2022-01-16 10:19:21.723  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961723 | took 0ms | statement | connection 31| url jdbc:h2:mem:testdb
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_;
Hibernate: select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
2022-01-16 10:19:21.726  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961726 | took 0ms | statement | connection 31| url jdbc:h2:mem:testdb
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_
select posts0_.id as id1_0_, posts0_.created_date as created_2_0_, posts0_.last_modified_date as last_mod3_0_, posts0_.author as author4_0_, posts0_.content as content5_0_, posts0_.title as title6_0_ from posts posts0_;
Hibernate: delete from posts where id=?
2022-01-16 10:19:21.731  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961731 | took 0ms | statement | connection 31| url jdbc:h2:mem:testdb
delete from posts where id=?
delete from posts where id=2;
2022-01-16 10:19:21.732  INFO 4479 --- [    Test worker] p6spy                                    : #1642295961732 | took 0ms | commit | connection 31| url jdbc:h2:mem:testdb

;
2022-01-16 10:19:21.733  INFO 4479 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@6f03d4a7 testClass = PostsApiControllerTest, testInstance = com.book.springboot.web.PostsApiControllerTest@4e3e1063, testMethod = Posts_수정된다@PostsApiControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@316be026 testClass = PostsApiControllerTest, locations = '{}', classes = '{class com.book.springboot.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@259762bc, [ImportsContextCustomizer@4e598ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5b62bf8e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@498f3382, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@72c0eebc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
